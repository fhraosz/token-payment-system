# 토큰 기반 결제 시스템

## 프로젝트 개요

이 프로젝트는 1회용 토큰 기반 결제 시스템을 구축하는 것을 목표로 합니다. 전체 프로세스는 크게 두 단계로 나뉩니다:

1. **카드 등록 단계**: 사용자가 신용카드 정보를 입력하면, 해당 정보는 별도의 토큰 발급 시스템에 안전하게 저장되며, 그 결과로 카드 참조값(REF_ID)을 발급받습니다.
   
2. **결제 단계**: 발급받은 카드 참조값을 이용해 1회용 토큰을 토큰 발급 시스템에서 요청한 후, 해당 토큰을 결제 승인 시스템에 전달하여 결제를 승인받습니다. 결제 승인 시스템은 토큰의 유효성을 검증하고 결제를 완료합니다.

## 요구사항

### 비즈니스 요구사항
1. 사용자의 CI(고객 식별값)를 사용하여 고객을 식별합니다.
2. 결제 카드 정보는 시스템에서 볼 수 없으며, 암호화되어 토큰 발급 시스템에 저장됩니다.
3. 결제 시에는 카드 정보 대신 카드 참조값으로 결제를 진행합니다.
4. 모든 거래는 REST API 기반으로 설계되었습니다.
5. 추가적인 프로세스 완성도를 높이기 위해 필요한 요소는 자유롭게 추가할 수 있습니다.

### 개발 요구사항
1. **언어**: JAVA (JDK 17) 사용
2. **프레임워크**: Spring Framework 활용
3. **데이터베이스**: H2 데이터베이스

## 시스템 아키텍처

- **토큰 발급 시스템**: 카드 정보를 암호화하고 카드 참조값을 반환하는 시스템.
- **결제 승인 시스템**: 발급된 토큰의 유효성을 검증하고 결제를 승인하는 시스템.

## 주요 기능

1. **카드 등록**: 고객의 신용카드를 등록하고 카드 참조값을 발급받습니다.
2. **결제 처리**: 발급된 카드 참조값을 이용해 1회용 토큰을 발급받고 결제를 진행합니다.
3. **결제 결과**: 결제완료 후 고객의 결제결과를 확인합니다.

## API 명세

| 기능          | 메서드  | URL                  | 설명                        |
|---------------|---------|----------------------|-----------------------------|
| 카드 등록     | POST    | `/api/card/register`  | 카드 정보를 등록하고 참조값을 발급 |
| 결제 요청     | POST    | `/api/payment`       | 참조값을 이용해 결제를 진행  |
| 거래 내역 조회 | GET     | `/api/transactions`  | 결제 내역을 조회            |

## 백엔드 설계
- **언어**: Java (JDK 17)
- **프레임워크**: Spring Boot
- **데이터베이스**: H2
- **빌드 도구**: Gradle
